"use strict";

var _index = require("./index");

var _constants = require("./constants");

var defaultPopupOptions = {
  width: _constants.CONNECT_POPUP_HEIGHT,
  height: _constants.CONNECT_POPUP_WIDTH,
  top: window.top.outerHeight / 2 + window.top.screenY - _constants.CONNECT_POPUP_HEIGHT / 2,
  left: window.top.outerWidth / 2 + window.top.screenX - _constants.CONNECT_POPUP_WIDTH / 2
};
var url = 'http://test.com';
describe('FinicityConnect', function () {
  var mockWindow;
  beforeEach(function () {
    mockWindow = {
      close: jest.fn(),
      focus: jest.fn(),
      closed: false,
      postMessage: jest.fn()
    };
    jest.useFakeTimers();
  });
  afterEach(function () {
    jest.resetAllMocks();

    _index.FinicityConnect.destroy();
  });
  test('should apply iframe styles', function () {
    var styles = document.getElementById(_constants.STYLES_ID);
    expect(styles.id).toBe(_constants.STYLES_ID);
    expect(styles.innerHTML).toBe("#".concat(_constants.IFRAME_ID, " {\n      position: absolute;\n      left: 0;\n      top: 0;\n      width: 100%;\n      height: 100%;\n      z-index: 10;\n      background: rgba(0,0,0,0.8);\n    }"));
  });
  describe('destroy', function () {
    test('should remove iframe and meta elements', function () {
      var iframeStub = {
        parentNode: {
          removeChild: jest.fn()
        },
        setAttribute: jest.fn()
      };
      var metaStub = {
        parentNode: {
          removeChild: jest.fn()
        },
        setAttribute: jest.fn()
      };
      spyOn(document.head, 'appendChild').and.callFake(function () {});
      spyOn(document.body, 'appendChild').and.callFake(function () {});
      spyOn(window.document, 'createElement').and.callFake(function (element) {
        return element === 'iframe' ? iframeStub : metaStub;
      });
      jest.spyOn(window, 'removeEventListener');

      _index.FinicityConnect.launch(url, {
        onDone: function onDone() {},
        onError: function onError() {},
        onCancel: function onCancel() {}
      });

      _index.FinicityConnect.destroy();

      expect(iframeStub.parentNode.removeChild).toHaveBeenCalled();
      expect(metaStub.parentNode.removeChild).toHaveBeenCalled();
    });
    test('should remove postMessage event listener', function () {
      var onMessageFn;

      window.addEventListener = function (cb) {
        onMessageFn = cb;
      };

      jest.spyOn(window, 'removeEventListener');

      _index.FinicityConnect.launch(url, {
        onDone: function onDone() {},
        onError: function onError() {},
        onCancel: function onCancel() {}
      });

      _index.FinicityConnect.destroy();

      expect(window.removeEventListener).toHaveBeenCalledWith('message', onMessageFn);
    });
    test('should close popup window', function () {
      spyOn(window, 'open').and.returnValue(mockWindow);

      _index.FinicityConnect.launch(url, {
        onDone: function onDone() {},
        onError: function onError() {},
        onCancel: function onCancel() {}
      }, {
        popup: true
      });

      _index.FinicityConnect.destroy();

      expect(mockWindow.close).toHaveBeenCalled();
    });
  });
  describe('launch', function () {
    test('should handle popup scenario with default options', function () {
      spyOn(window, 'open').and.returnValue(mockWindow);
      var onLoad = jest.fn();
      spyOn(_index.FinicityConnect, 'initPostMessage').and.callFake(function () {});

      _index.FinicityConnect.launch(url, {
        onDone: function onDone() {},
        onError: function onError() {},
        onCancel: function onCancel() {},
        onLoad: onLoad
      }, {
        popup: true
      });

      expect(window.open).toHaveBeenCalledWith(url, 'targetWindow', "toolbar=no,location=no,status=no,menubar=no,width=720,height=520,top=24,left=252");
      expect(onLoad).toHaveBeenCalled();
      expect(_index.FinicityConnect.initPostMessage).toHaveBeenCalled();
    });
    test('should handle popup scenario with specified options', function () {
      spyOn(window, 'open').and.returnValue(mockWindow);
      var popupOptions = {
        width: 100,
        height: 100,
        top: 200,
        left: 200
      };
      var onLoad = jest.fn();
      spyOn(_index.FinicityConnect, 'initPostMessage').and.callFake(function () {});

      _index.FinicityConnect.launch(url, {
        onDone: function onDone() {},
        onError: function onError() {},
        onCancel: function onCancel() {},
        onLoad: onLoad
      }, {
        popup: true,
        popupOptions: popupOptions
      });

      expect(onLoad).toHaveBeenCalled();
      expect(window.open).toHaveBeenCalledWith(url, 'targetWindow', "toolbar=no,location=no,status=no,menubar=no,width=".concat(popupOptions.width, ",height=").concat(popupOptions.height, ",top=").concat(popupOptions.top, ",left=").concat(popupOptions.left));
      expect(_index.FinicityConnect.initPostMessage).toHaveBeenCalled();
    });
    test('should return error event if popup failed to open', function () {
      spyOn(window, 'open').and.returnValue(undefined);
      var onError = jest.fn();

      _index.FinicityConnect.launch(url, {
        onDone: function onDone() {},
        onError: onError,
        onCancel: function onCancel() {}
      }, {
        popup: true
      });

      expect(window.open).toHaveBeenCalled();
      expect(onError).toHaveBeenCalledWith({
        reason: 'error',
        code: 1403
      });
    });
    test('should handle iframe scenario with no overrides', function () {
      spyOn(document, 'querySelectorAll').and.callThrough();
      var iframeStub = {
        parentNode: {
          removeChild: jest.fn()
        },
        setAttribute: jest.fn()
      };
      var metaStub = {
        parentNode: {
          removeChild: jest.fn()
        },
        setAttribute: jest.fn()
      };
      spyOn(document.head, 'appendChild').and.callFake(function () {});
      spyOn(document.body, 'appendChild').and.callFake(function () {});
      spyOn(window.document, 'createElement').and.callFake(function (element) {
        return element === 'iframe' ? iframeStub : metaStub;
      });
      var onLoad = jest.fn();
      spyOn(_index.FinicityConnect, 'initPostMessage').and.callFake(function () {});

      _index.FinicityConnect.launch(url, {
        onDone: function onDone() {},
        onError: function onError() {},
        onCancel: function onCancel() {},
        onLoad: onLoad
      });

      expect(document.querySelectorAll).toHaveBeenCalledWith('meta[name="viewport"]');
      expect(document.createElement).toHaveBeenCalledWith('meta');
      expect(metaStub.setAttribute).toHaveBeenCalledWith('name', 'viewport');
      expect(metaStub.setAttribute).toHaveBeenCalledWith('content', 'initial-scale=1');
      expect(document.head.appendChild).toHaveBeenCalledWith(metaStub);
      expect(document.createElement).toHaveBeenCalledWith('iframe');
      expect(iframeStub.src).toBe(url);
      expect(iframeStub.setAttribute).toHaveBeenCalledWith('id', _constants.IFRAME_ID);
      expect(iframeStub.setAttribute).toHaveBeenCalledWith('frameborder', '0');
      expect(iframeStub.setAttribute).toHaveBeenCalledWith('scrolling', 'no');
      expect(document.body.appendChild).toHaveBeenCalledWith(iframeStub);
      iframeStub.onload();
      expect(_index.FinicityConnect.initPostMessage).toHaveBeenCalledWith({});
      expect(onLoad).toHaveBeenCalled();
    });
    test('should handle iframe scenario with custom overlay and container', function () {
      var mockContainer = {
        appendChild: jest.fn()
      };
      var options = {
        overlay: 'gray',
        selector: '#container'
      };
      spyOn(document, 'querySelectorAll').and.callThrough();
      spyOn(document, 'querySelector').and.returnValue(mockContainer);
      var iframeStub = {
        parentNode: {
          removeChild: jest.fn()
        },
        setAttribute: jest.fn()
      };
      var metaStub = {
        parentNode: {
          removeChild: jest.fn()
        },
        setAttribute: jest.fn()
      };
      spyOn(document.head, 'appendChild').and.callFake(function () {});
      spyOn(document.body, 'appendChild').and.callFake(function () {});
      spyOn(window.document, 'createElement').and.callFake(function (element) {
        return element === 'iframe' ? iframeStub : metaStub;
      });
      var onLoad = jest.fn();
      spyOn(_index.FinicityConnect, 'initPostMessage').and.callFake(function () {});

      _index.FinicityConnect.launch(url, {
        onDone: function onDone() {},
        onError: function onError() {},
        onCancel: function onCancel() {},
        onLoad: onLoad
      }, options);

      expect(iframeStub.setAttribute).toHaveBeenCalledWith('style', 'background: gray;');
      expect(document.querySelector).toHaveBeenCalledWith('#container');
      expect(mockContainer.appendChild).toHaveBeenCalledWith(iframeStub);
      iframeStub.onload();
      expect(_index.FinicityConnect.initPostMessage).toHaveBeenCalledWith(options);
      expect(onLoad).toHaveBeenCalled();
    });
    test('should handle iframe scenario with custom container as node', function () {
      var mockContainer = {
        appendChild: jest.fn()
      };
      var options = {
        node: mockContainer
      };
      var iframeStub = {
        parentNode: {
          removeChild: jest.fn()
        },
        setAttribute: jest.fn()
      };
      var metaStub = {
        parentNode: {
          removeChild: jest.fn()
        },
        setAttribute: jest.fn()
      };
      spyOn(document.head, 'appendChild').and.callFake(function () {});
      spyOn(window.document, 'createElement').and.callFake(function (element) {
        return element === 'iframe' ? iframeStub : metaStub;
      });
      var onLoad = jest.fn();
      spyOn(_index.FinicityConnect, 'initPostMessage').and.callFake(function () {});

      _index.FinicityConnect.launch(url, {
        onDone: function onDone() {},
        onError: function onError() {},
        onCancel: function onCancel() {},
        onLoad: onLoad
      }, options);

      expect(mockContainer.appendChild).toHaveBeenCalledWith(iframeStub);
      iframeStub.onload();
      expect(_index.FinicityConnect.initPostMessage).toHaveBeenCalledWith(options);
      expect(onLoad).toHaveBeenCalled();
    });
    test("should log warning and append iframe to body if selector doesn't return an element", function () {
      spyOn(console, 'warn').and.callFake(function () {});
      var options = {
        selector: '#container'
      };
      spyOn(document, 'querySelectorAll').and.callThrough();
      spyOn(document, 'querySelector').and.returnValue(undefined);
      var iframeStub = {
        parentNode: {
          removeChild: jest.fn()
        },
        setAttribute: jest.fn()
      };
      var metaStub = {
        parentNode: {
          removeChild: jest.fn()
        },
        setAttribute: jest.fn()
      };
      spyOn(document.head, 'appendChild').and.callFake(function () {});
      spyOn(document.body, 'appendChild').and.callFake(function () {});
      spyOn(window.document, 'createElement').and.callFake(function (element) {
        return element === 'iframe' ? iframeStub : metaStub;
      });
      var onLoad = jest.fn();
      spyOn(_index.FinicityConnect, 'initPostMessage').and.callFake(function () {});

      _index.FinicityConnect.launch(url, {
        onDone: function onDone() {},
        onError: function onError() {},
        onCancel: function onCancel() {},
        onLoad: onLoad
      }, options);

      expect(document.querySelector).toHaveBeenCalledWith('#container');
      expect(document.body.appendChild).toHaveBeenCalledWith(iframeStub);
      expect(console.warn).toHaveBeenCalledWith("Couldn't find any elements matching \"".concat(options.selector, "\", appending \"iframe\" to \"body\" instead."));
    });
    test('should throw error if launch is called again before calling destroy', function () {
      _index.FinicityConnect.launch(url, {
        onDone: function onDone() {},
        onError: function onError() {},
        onCancel: function onCancel() {}
      });

      try {
        _index.FinicityConnect.launch(url, {
          onDone: function onDone() {},
          onError: function onError() {},
          onCancel: function onCancel() {}
        });
      } catch (e) {
        expect(e.message).toBe('You must destroy the iframe before you can open a new one. Call "destroy()"');
      }
    });
  });
  describe('initPostMessage', function () {
    test('should call postMessage every second with the expected parameters and attach postMessage event handler', function () {
      spyOn(window, 'setInterval').and.callThrough();
      spyOn(_index.FinicityConnect, 'postMessage').and.callFake(function () {});

      _index.FinicityConnect.initPostMessage({
        selector: '#container'
      });

      jest.advanceTimersByTime(1100);
      expect(_index.FinicityConnect.postMessage).toHaveBeenCalledWith({
        type: _constants.PING_EVENT,
        selector: '#container',
        sdkVersion: _constants.CONNECT_SDK_VERSION,
        platform: _constants.PLATFORM_IFRAME
      });

      _index.FinicityConnect.initPostMessage({
        popup: true
      });

      jest.advanceTimersByTime(1100);
      expect(_index.FinicityConnect.postMessage).toHaveBeenCalledWith({
        type: _constants.PING_EVENT,
        selector: undefined,
        sdkVersion: _constants.CONNECT_SDK_VERSION,
        platform: _constants.PLATFORM_POPUP
      });
    });
    test('should call attach postMessage event handler and send events as expected', function () {
      var eventHandler;
      var popupMock = {
        close: jest.fn(),
        focus: jest.fn()
      };
      spyOn(window, 'open').and.callFake(jest.fn().mockReturnValue(popupMock));
      spyOn(window, 'addEventListener').and.callFake(function (eventType, eh) {
        return eventHandler = eh;
      });
      var eventHandlers = {
        onDone: jest.fn(),
        onError: jest.fn(),
        onCancel: jest.fn()
      };

      _index.FinicityConnect.launch(url, eventHandlers);

      _index.FinicityConnect.initPostMessage({
        selector: '#container'
      });

      expect(window.addEventListener).toHaveBeenCalled();
      spyOn(window, 'clearInterval');
      eventHandler({
        origin: url,
        data: {
          type: _constants.ACK_EVENT
        }
      });
      expect(window.clearInterval).toHaveBeenCalled();
      spyOn(_index.FinicityConnect, 'openPopupWindow').and.callThrough();
      spyOn(_index.FinicityConnect, 'destroy');
      eventHandler({
        origin: url,
        data: {
          type: _constants.URL_EVENT,
          url: 'http://oauth.com'
        }
      });
      expect(_index.FinicityConnect.openPopupWindow).toHaveBeenCalledWith('http://oauth.com');
      var payload = {
        test: true
      };
      eventHandler({
        origin: url,
        data: {
          type: _constants.DONE_EVENT,
          data: payload
        }
      });
      expect(eventHandlers.onDone).toHaveBeenCalledWith(payload);
      expect(_index.FinicityConnect.destroy).toHaveBeenCalledTimes(1);
      eventHandler({
        origin: url,
        data: {
          type: _constants.CANCEL_EVENT,
          data: payload
        }
      });
      expect(eventHandlers.onCancel).toHaveBeenCalledWith(payload);
      expect(_index.FinicityConnect.destroy).toHaveBeenCalledTimes(2);
      eventHandler({
        origin: url,
        data: {
          type: _constants.ERROR_EVENT,
          data: payload
        }
      });
      expect(eventHandlers.onCancel).toHaveBeenCalledWith(payload);
      expect(_index.FinicityConnect.destroy).toHaveBeenCalledTimes(3);
      eventHandler({
        origin: url,
        data: {
          type: _constants.ROUTE_EVENT,
          data: payload
        }
      });
      expect(eventHandlers.onCancel).toHaveBeenCalledWith(payload);
      expect(_index.FinicityConnect.destroy).toHaveBeenCalledTimes(3);
      eventHandler({
        origin: url,
        data: {
          type: _constants.USER_EVENT,
          data: payload
        }
      });
      expect(eventHandlers.onCancel).toHaveBeenCalledWith(payload);
      expect(_index.FinicityConnect.destroy).toHaveBeenCalledTimes(3);
      eventHandler({
        origin: url,
        data: {
          type: _constants.CLOSE_POPUP_EVENT,
          data: payload
        }
      });
      expect(popupMock.close).toHaveBeenCalled();
      expect(_index.FinicityConnect.destroy).toHaveBeenCalledTimes(3);
    });
    test('should call attach postMessage event handler and ping Connect indefinitely for popup scenario', function () {
      var eventHandler;
      spyOn(window, 'open').and.callFake(function () {
        return mockWindow;
      });
      spyOn(window, 'addEventListener').and.callFake(function (eventType, eh) {
        return eventHandler = eh;
      });
      var eventHandlers = {
        onDone: jest.fn(),
        onError: jest.fn(),
        onCancel: jest.fn()
      };

      _index.FinicityConnect.launch(url, eventHandlers, {
        popup: true
      });

      _index.FinicityConnect.initPostMessage({
        popup: true
      });

      expect(window.addEventListener).toHaveBeenCalled();
      spyOn(window, 'clearInterval');
      eventHandler({
        origin: url,
        data: {
          type: _constants.ACK_EVENT
        }
      });
      expect(window.clearInterval).not.toHaveBeenCalled();
    });
  });
  describe('openPopupWindow', function () {
    test("should open popup window, focus on it and periodically watch if it's still open", function () {
      spyOn(window, 'open').and.callFake(function () {
        return mockWindow;
      });
      spyOn(window, 'setInterval');
      spyOn(window, 'clearInterval');
      spyOn(_index.FinicityConnect, 'postMessage').and.callFake(function () {});

      _index.FinicityConnect.openPopupWindow(url);

      expect(window.open).toHaveBeenCalledWith(url, 'targetWindow', "toolbar=no,location=no,status=no,menubar=no,width=".concat(_constants.POPUP_WIDTH, ",height=").concat(_constants.POPUP_HEIGHT, ",top=84,left=212"));
      expect(mockWindow.focus).toHaveBeenCalled();
      expect(window.setInterval).toHaveBeenCalled();
      jest.advanceTimersByTime(1100);
      expect(window.clearInterval).not.toHaveBeenCalled();
    });
    test('should call postMessage when the popup is closed', function () {
      mockWindow.closed = true;
      spyOn(window, 'open').and.callFake(function () {
        return mockWindow;
      });
      spyOn(window, 'setInterval').and.callThrough();
      spyOn(window, 'clearInterval');
      spyOn(_index.FinicityConnect, 'postMessage').and.callFake(function () {});

      _index.FinicityConnect.openPopupWindow(url);

      expect(window.open).toHaveBeenCalledWith(url, 'targetWindow', "toolbar=no,location=no,status=no,menubar=no,width=".concat(_constants.POPUP_WIDTH, ",height=").concat(_constants.POPUP_HEIGHT, ",top=84,left=212"));
      expect(mockWindow.focus).toHaveBeenCalled();
      expect(window.setInterval).toHaveBeenCalled();
      jest.advanceTimersByTime(1100);
      expect(window.clearInterval).toHaveBeenCalled();
      expect(_index.FinicityConnect.postMessage).toHaveBeenCalledWith({
        type: _constants.WINDOW_EVENT,
        closed: true,
        blocked: false
      });
    });
    test('should let Connect know if the popup was blocked', function () {
      spyOn(window, 'open').and.callFake(function () {
        return undefined;
      });
      spyOn(_index.FinicityConnect, 'postMessage').and.callFake(function () {});

      _index.FinicityConnect.openPopupWindow(url);

      expect(window.open).toHaveBeenCalledWith(url, 'targetWindow', "toolbar=no,location=no,status=no,menubar=no,width=".concat(_constants.POPUP_WIDTH, ",height=").concat(_constants.POPUP_HEIGHT, ",top=84,left=212"));
      expect(mockWindow.focus).not.toHaveBeenCalled();
      expect(_index.FinicityConnect.postMessage).toHaveBeenCalledWith({
        type: _constants.WINDOW_EVENT,
        closed: true,
        blocked: true
      });
    });
  });
  describe('postMessage', function () {
    test('should call postMessage on (iframe)', function () {
      var iframeStub = {
        parentNode: {
          removeChild: jest.fn()
        },
        setAttribute: jest.fn(),
        contentWindow: {
          postMessage: jest.fn()
        }
      };
      var metaStub = {
        parentNode: {
          removeChild: jest.fn()
        },
        setAttribute: jest.fn()
      };
      spyOn(document.head, 'appendChild').and.callFake(function () {});
      spyOn(document.body, 'appendChild').and.callFake(function () {});
      spyOn(window.document, 'createElement').and.callFake(function (element) {
        return element === 'iframe' ? iframeStub : metaStub;
      });

      _index.FinicityConnect.launch(url, {
        onDone: function onDone() {},
        onError: function onError() {},
        onCancel: function onCancel() {}
      });

      iframeStub.onload();
      var data = {
        test: true
      };

      _index.FinicityConnect.postMessage(data);

      expect(iframeStub.contentWindow.postMessage).toHaveBeenCalledWith(data, url);
    });
    test('should call postMessage on (popup)', function () {
      spyOn(window, 'open').and.returnValue(mockWindow);

      _index.FinicityConnect.launch(url, {
        onDone: function onDone() {},
        onError: function onError() {},
        onCancel: function onCancel() {}
      }, {
        popup: true
      });

      var data = {
        test: true
      };

      _index.FinicityConnect.postMessage(data);

      expect(mockWindow.postMessage).toHaveBeenCalledWith(data, url);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5zcGVjLnRzIl0sIm5hbWVzIjpbImRlZmF1bHRQb3B1cE9wdGlvbnMiLCJ3aWR0aCIsIkNPTk5FQ1RfUE9QVVBfSEVJR0hUIiwiaGVpZ2h0IiwiQ09OTkVDVF9QT1BVUF9XSURUSCIsInRvcCIsIndpbmRvdyIsIm91dGVySGVpZ2h0Iiwic2NyZWVuWSIsImxlZnQiLCJvdXRlcldpZHRoIiwic2NyZWVuWCIsInVybCIsImRlc2NyaWJlIiwibW9ja1dpbmRvdyIsImJlZm9yZUVhY2giLCJjbG9zZSIsImplc3QiLCJmbiIsImZvY3VzIiwiY2xvc2VkIiwicG9zdE1lc3NhZ2UiLCJ1c2VGYWtlVGltZXJzIiwiYWZ0ZXJFYWNoIiwicmVzZXRBbGxNb2NrcyIsIkZpbmljaXR5Q29ubmVjdCIsImRlc3Ryb3kiLCJ0ZXN0Iiwic3R5bGVzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIlNUWUxFU19JRCIsImV4cGVjdCIsImlkIiwidG9CZSIsImlubmVySFRNTCIsIklGUkFNRV9JRCIsImlmcmFtZVN0dWIiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJzZXRBdHRyaWJ1dGUiLCJtZXRhU3R1YiIsInNweU9uIiwiaGVhZCIsImFuZCIsImNhbGxGYWtlIiwiYm9keSIsImVsZW1lbnQiLCJsYXVuY2giLCJvbkRvbmUiLCJvbkVycm9yIiwib25DYW5jZWwiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwib25NZXNzYWdlRm4iLCJhZGRFdmVudExpc3RlbmVyIiwiY2IiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJyZXR1cm5WYWx1ZSIsInBvcHVwIiwib25Mb2FkIiwib3BlbiIsImluaXRQb3N0TWVzc2FnZSIsInBvcHVwT3B0aW9ucyIsInVuZGVmaW5lZCIsInJlYXNvbiIsImNvZGUiLCJjYWxsVGhyb3VnaCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJzcmMiLCJvbmxvYWQiLCJtb2NrQ29udGFpbmVyIiwib3B0aW9ucyIsIm92ZXJsYXkiLCJzZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3IiLCJub2RlIiwiY29uc29sZSIsIndhcm4iLCJlIiwibWVzc2FnZSIsImFkdmFuY2VUaW1lcnNCeVRpbWUiLCJ0eXBlIiwiUElOR19FVkVOVCIsInNka1ZlcnNpb24iLCJDT05ORUNUX1NES19WRVJTSU9OIiwicGxhdGZvcm0iLCJQTEFURk9STV9JRlJBTUUiLCJQTEFURk9STV9QT1BVUCIsImV2ZW50SGFuZGxlciIsInBvcHVwTW9jayIsIm1vY2tSZXR1cm5WYWx1ZSIsImV2ZW50VHlwZSIsImVoIiwiZXZlbnRIYW5kbGVycyIsIm9yaWdpbiIsImRhdGEiLCJBQ0tfRVZFTlQiLCJjbGVhckludGVydmFsIiwiVVJMX0VWRU5UIiwib3BlblBvcHVwV2luZG93IiwicGF5bG9hZCIsIkRPTkVfRVZFTlQiLCJ0b0hhdmVCZWVuQ2FsbGVkVGltZXMiLCJDQU5DRUxfRVZFTlQiLCJFUlJPUl9FVkVOVCIsIlJPVVRFX0VWRU5UIiwiVVNFUl9FVkVOVCIsIkNMT1NFX1BPUFVQX0VWRU5UIiwibm90IiwiUE9QVVBfV0lEVEgiLCJQT1BVUF9IRUlHSFQiLCJzZXRJbnRlcnZhbCIsIldJTkRPV19FVkVOVCIsImJsb2NrZWQiLCJjb250ZW50V2luZG93Il0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUVBOztBQXNCQSxJQUFNQSxtQkFBbUIsR0FBRztBQUMxQkMsRUFBQUEsS0FBSyxFQUFFQywrQkFEbUI7QUFFMUJDLEVBQUFBLE1BQU0sRUFBRUMsOEJBRmtCO0FBRzFCQyxFQUFBQSxHQUFHLEVBQ0RDLE1BQU0sQ0FBQ0QsR0FBUCxDQUFXRSxXQUFYLEdBQXlCLENBQXpCLEdBQTZCRCxNQUFNLENBQUNELEdBQVAsQ0FBV0csT0FBeEMsR0FBa0ROLGtDQUF1QixDQUpqRDtBQUsxQk8sRUFBQUEsSUFBSSxFQUNGSCxNQUFNLENBQUNELEdBQVAsQ0FBV0ssVUFBWCxHQUF3QixDQUF4QixHQUE0Qkos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bEIsVUFBVSxDQUFDTyxXQUFaLENBQU4sQ0FBK0JvQyxvQkFBL0IsQ0FBb0R5QyxJQUFwRCxFQUEwRHRGLEdBQTFEO0FBQ0QsS0FYRyxDQUFKO0FBWUQsR0ExQ08sQ0FBUjtBQTJDRCxDQTVnQk8sQ0FBUiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZpbmljaXR5Q29ubmVjdCB9IGZyb20gJy4vaW5kZXgnO1xuXG5pbXBvcnQge1xuICBJRlJBTUVfSUQsXG4gIFBPUFVQX1dJRFRILFxuICBQT1BVUF9IRUlHSFQsXG4gIENPTk5FQ1RfUE9QVVBfSEVJR0hULFxuICBDT05ORUNUX1BPUFVQX1dJRFRILFxuICBBQ0tfRVZFTlQsXG4gIENBTkNFTF9FVkVOVCxcbiAgVVJMX0VWRU5ULFxuICBET05FX0VWRU5ULFxuICBFUlJPUl9FVkVOVCxcbiAgUElOR19FVkVOVCxcbiAgV0lORE9XX0VWRU5ULFxuICBST1VURV9FVkVOVCxcbiAgVVNFUl9FVkVOVCxcbiAgUExBVEZPUk1fSUZSQU1FLFxuICBQTEFURk9STV9QT1BVUCxcbiAgU1RZTEVTX0lELFxuICBDT05ORUNUX1NES19WRVJTSU9OLFxuICBDTE9TRV9QT1BVUF9FVkVOVCxcbn0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5jb25zdCBkZWZhdWx0UG9wdXBPcHRpb25zID0ge1xuICB3aWR0aDogQ09OTkVDVF9QT1BVUF9IRUlHSFQsXG4gIGhlaWdodDogQ09OTkVDVF9QT1BVUF9XSURUSCxcbiAgdG9wOlxuICAgIHdpbmRvdy50b3Aub3V0ZXJIZWlnaHQgLyAyICsgd2luZG93LnRvcC5zY3JlZW5ZIC0gQ09OTkVDVF9QT1BVUF9IRUlHSFQgLyAyLFxuICBsZWZ0OlxuICAgIHdpbmRvdy50b3Aub3V0ZXJXaWR0aCAvIDIgKyB3aW5kb3cudG9wLnNjcmVlblggLSBDT05ORUNUX1BPUFVQX1dJRFRIIC8gMixcbn07XG5cbmNvbnN0IHVybCA9ICdodHRwOi8vdGVzdC5jb20nO1xuZGVzY3JpYmUoJ0ZpbmljaXR5Q29ubmVjdCcsICgpID0+IHtcbiAgbGV0IG1vY2tXaW5kb3c7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIG1vY2tXaW5kb3cgPSB7XG4gICAgICBjbG9zZTogamVzdC5mbigpLFxuICAgICAgZm9jdXM6IGplc3QuZm4oKSxcbiAgICAgIGNsb3NlZDogZmFsc2UsXG4gICAgICBwb3N0TWVzc2FnZTogamVzdC5mbigpLFxuICAgIH07XG4gICAgamVzdC51c2VGYWtlVGltZXJzKCk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgamVzdC5yZXNldEFsbE1vY2tzKCk7XG4gICAgRmluaWNpdHlDb25uZWN0LmRlc3Ryb3koKTtcbiAgfSk7XG5cbiAgdGVzdCgnc2hvdWxkIGFwcGx5IGlmcmFtZSBzdHlsZXMnLCAoKSA9PiB7XG4gICAgY29uc3Qgc3R5bGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoU1RZTEVTX0lEKTtcbiAgICBleHBlY3Qoc3R5bGVzLmlkKS50b0JlKFNUWUxFU19JRCk7XG4gICAgZXhwZWN0KHN0eWxlcy5pbm5lckhUTUwpLnRvQmUoYCMke0lGUkFNRV9JRH0ge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgbGVmdDogMDtcbiAgICAgIHRvcDogMDtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgei1pbmRleDogMTA7XG4gICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLDAuOCk7XG4gICAgfWApO1xuICB9KTtcblxuICBkZXNjcmliZSgnZGVzdHJveScsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgcmVtb3ZlIGlmcmFtZSBhbmQgbWV0YSBlbGVtZW50cycsICgpID0+IHtcbiAgICAgIGNvbnN0IGlmcmFtZVN0dWI6IGFueSA9IHtcbiAgICAgICAgcGFyZW50Tm9kZTogeyByZW1vdmVDaGlsZDogamVzdC5mbigpIH0sXG4gICAgICAgIHNldEF0dHJpYnV0ZTogamVzdC5mbigpLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IG1ldGFTdHViOiBhbnkgPSB7XG4gICAgICAgIHBhcmVudE5vZGU6IHsgcmVtb3ZlQ2hpbGQ6IGplc3QuZm4oKSB9LFxuICAgICAgICBzZXRBdHRyaWJ1dGU6IGplc3QuZm4oKSxcbiAgICAgIH07XG4gICAgICBzcHlPbihkb2N1bWVudC5oZWFkLCAnYXBwZW5kQ2hpbGQnKS5hbmQuY2FsbEZha2UoKCkgPT4ge30pO1xuICAgICAgc3B5T24oZG9jdW1lbnQuYm9keSwgJ2FwcGVuZENoaWxkJykuYW5kLmNhbGxGYWtlKCgpID0+IHt9KTtcbiAgICAgIHNweU9uKHdpbmRvdy5kb2N1bWVudCwgJ2NyZWF0ZUVsZW1lbnQnKS5hbmQuY2FsbEZha2UoKGVsZW1lbnQpID0+XG4gICAgICAgIGVsZW1lbnQgPT09ICdpZnJhbWUnID8gaWZyYW1lU3R1YiA6IG1ldGFTdHViXG4gICAgICApO1xuICAgICAgamVzdC5zcHlPbih3aW5kb3csICdyZW1vdmVFdmVudExpc3RlbmVyJyk7XG4gICAgICBGaW5pY2l0eUNvbm5lY3QubGF1bmNoKHVybCwge1xuICAgICAgICBvbkRvbmU6ICgpID0+IHt9LFxuICAgICAgICBvbkVycm9yOiAoKSA9PiB7fSxcbiAgICAgICAgb25DYW5jZWw6ICgpID0+IHt9LFxuICAgICAgfSk7XG4gICAgICBGaW5pY2l0eUNvbm5lY3QuZGVzdHJveSgpO1xuXG4gICAgICBleHBlY3QoaWZyYW1lU3R1Yi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QobWV0YVN0dWIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHJlbW92ZSBwb3N0TWVzc2FnZSBldmVudCBsaXN0ZW5lcicsICgpID0+IHtcbiAgICAgIGxldCBvbk1lc3NhZ2VGbjtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyID0gKGNiKSA9PiB7XG4gICAgICAgIG9uTWVzc2FnZUZuID0gY2I7XG4gICAgICB9O1xuICAgICAgamVzdC5zcHlPbih3aW5kb3csICdyZW1vdmVFdmVudExpc3RlbmVyJyk7XG4gICAgICBGaW5pY2l0eUNvbm5lY3QubGF1bmNoKHVybCwge1xuICAgICAgICBvbkRvbmU6ICgpID0+IHt9LFxuICAgICAgICBvbkVycm9yOiAoKSA9PiB7fSxcbiAgICAgICAgb25DYW5jZWw6ICgpID0+IHt9LFxuICAgICAgfSk7XG4gICAgICBGaW5pY2l0eUNvbm5lY3QuZGVzdHJveSgpO1xuICAgICAgZXhwZWN0KHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgJ21lc3NhZ2UnLFxuICAgICAgICBvbk1lc3NhZ2VGblxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBjbG9zZSBwb3B1cCB3aW5kb3cnLCAoKSA9PiB7XG4gICAgICBzcHlPbih3aW5kb3csICdvcGVuJykuYW5kLnJldHVyblZhbHVlKG1vY2tXaW5kb3cpO1xuICAgICAgRmluaWNpdHlDb25uZWN0LmxhdW5jaChcbiAgICAgICAgdXJsLFxuICAgICAgICB7IG9uRG9uZTogKCkgPT4ge30sIG9uRXJyb3I6ICgpID0+IHt9LCBvbkNhbmNlbDogKCkgPT4ge30gfSxcbiAgICAgICAgeyBwb3B1cDogdHJ1ZSB9XG4gICAgICApO1xuICAgICAgRmluaWNpdHlDb25uZWN0LmRlc3Ryb3koKTtcbiAgICAgIGV4cGVjdChtb2NrV2luZG93LmNsb3NlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdsYXVuY2gnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBwb3B1cCBzY2VuYXJpbyB3aXRoIGRlZmF1bHQgb3B0aW9ucycsICgpID0+IHtcbiAgICAgIHNweU9uKHdpbmRvdywgJ29wZW4nKS5hbmQucmV0dXJuVmFsdWUobW9ja1dpbmRvdyk7XG4gICAgICBjb25zdCBvbkxvYWQgPSBqZXN0LmZuKCk7XG4gICAgICBzcHlPbihGaW5pY2l0eUNvbm5lY3QsICdpbml0UG9zdE1lc3NhZ2UnKS5hbmQuY2FsbEZha2UoKCkgPT4ge30pO1xuICAgICAgRmluaWNpdHlDb25uZWN0LmxhdW5jaChcbiAgICAgICAgdXJsLFxuICAgICAgICB7IG9uRG9uZTogKCkgPT4ge30sIG9uRXJyb3I6ICgpID0+IHt9LCBvbkNhbmNlbDogKCkgPT4ge30sIG9uTG9hZCB9LFxuICAgICAgICB7IHBvcHVwOiB0cnVlIH1cbiAgICAgICk7XG4gICAgICBleHBlY3Qod2luZG93Lm9wZW4pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICB1cmwsXG4gICAgICAgICd0YXJnZXRXaW5kb3cnLFxuICAgICAgICBgdG9vbGJhcj1ubyxsb2NhdGlvbj1ubyxzdGF0dXM9bm8sbWVudWJhcj1ubyx3aWR0aD03MjAsaGVpZ2h0PTUyMCx0b3A9MjQsbGVmdD0yNTJgXG4gICAgICApO1xuICAgICAgZXhwZWN0KG9uTG9hZCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KEZpbmljaXR5Q29ubmVjdC5pbml0UG9zdE1lc3NhZ2UpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgcG9wdXAgc2NlbmFyaW8gd2l0aCBzcGVjaWZpZWQgb3B0aW9ucycsICgpID0+IHtcbiAgICAgIHNweU9uKHdpbmRvdywgJ29wZW4nKS5hbmQucmV0dXJuVmFsdWUobW9ja1dpbmRvdyk7XG4gICAgICBjb25zdCBwb3B1cE9wdGlvbnMgPSB7XG4gICAgICAgIHdpZHRoOiAxMDAsXG4gICAgICAgIGhlaWdodDogMTAwLFxuICAgICAgICB0b3A6IDIwMCxcbiAgICAgICAgbGVmdDogMjAwLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IG9uTG9hZCA9IGplc3QuZm4oKTtcbiAgICAgIHNweU9uKEZpbmljaXR5Q29ubmVjdCwgJ2luaXRQb3N0TWVzc2FnZScpLmFuZC5jYWxsRmFrZSgoKSA9PiB7fSk7XG4gICAgICBGaW5pY2l0eUNvbm5lY3QubGF1bmNoKFxuICAgICAgICB1cmwsXG4gICAgICAgIHsgb25Eb25lOiAoKSA9PiB7fSwgb25FcnJvcjogKCkgPT4ge30sIG9uQ2FuY2VsOiAoKSA9PiB7fSwgb25Mb2FkIH0sXG4gICAgICAgIHsgcG9wdXA6IHRydWUsIHBvcHVwT3B0aW9ucyB9XG4gICAgICApO1xuICAgICAgZXhwZWN0KG9uTG9hZCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KHdpbmRvdy5vcGVuKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgdXJsLFxuICAgICAgICAndGFyZ2V0V2luZG93JyxcbiAgICAgICAgYHRvb2xiYXI9bm8sbG9jYXRpb249bm8sc3RhdHVzPW5vLG1lbnViYXI9bm8sd2lkdGg9JHtwb3B1cE9wdGlvbnMud2lkdGh9LGhlaWdodD0ke3BvcHVwT3B0aW9ucy5oZWlnaHR9LHRvcD0ke3BvcHVwT3B0aW9ucy50b3B9LGxlZnQ9JHtwb3B1cE9wdGlvbnMubGVmdH1gXG4gICAgICApO1xuICAgICAgZXhwZWN0KEZpbmljaXR5Q29ubmVjdC5pbml0UG9zdE1lc3NhZ2UpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCByZXR1cm4gZXJyb3IgZXZlbnQgaWYgcG9wdXAgZmFpbGVkIHRvIG9wZW4nLCAoKSA9PiB7XG4gICAgICBzcHlPbih3aW5kb3csICdvcGVuJykuYW5kLnJldHVyblZhbHVlKHVuZGVmaW5lZCk7XG4gICAgICBjb25zdCBvbkVycm9yID0gamVzdC5mbigpO1xuICAgICAgRmluaWNpdHlDb25uZWN0LmxhdW5jaChcbiAgICAgICAgdXJsLFxuICAgICAgICB7IG9uRG9uZTogKCkgPT4ge30sIG9uRXJyb3IsIG9uQ2FuY2VsOiAoKSA9PiB7fSB9LFxuICAgICAgICB7IHBvcHVwOiB0cnVlIH1cbiAgICAgICk7XG4gICAgICBleHBlY3Qod2luZG93Lm9wZW4pLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChvbkVycm9yKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7IHJlYXNvbjogJ2Vycm9yJywgY29kZTogMTQwMyB9KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgaWZyYW1lIHNjZW5hcmlvIHdpdGggbm8gb3ZlcnJpZGVzJywgKCkgPT4ge1xuICAgICAgc3B5T24oZG9jdW1lbnQsICdxdWVyeVNlbGVjdG9yQWxsJykuYW5kLmNhbGxUaHJvdWdoKCk7XG4gICAgICBjb25zdCBpZnJhbWVTdHViOiBhbnkgPSB7XG4gICAgICAgIHBhcmVudE5vZGU6IHsgcmVtb3ZlQ2hpbGQ6IGplc3QuZm4oKSB9LFxuICAgICAgICBzZXRBdHRyaWJ1dGU6IGplc3QuZm4oKSxcbiAgICAgIH07XG4gICAgICBjb25zdCBtZXRhU3R1YjogYW55ID0ge1xuICAgICAgICBwYXJlbnROb2RlOiB7IHJlbW92ZUNoaWxkOiBqZXN0LmZuKCkgfSxcbiAgICAgICAgc2V0QXR0cmlidXRlOiBqZXN0LmZuKCksXG4gICAgICB9O1xuICAgICAgc3B5T24oZG9jdW1lbnQuaGVhZCwgJ2FwcGVuZENoaWxkJykuYW5kLmNhbGxGYWtlKCgpID0+IHt9KTtcbiAgICAgIHNweU9uKGRvY3VtZW50LmJvZHksICdhcHBlbmRDaGlsZCcpLmFuZC5jYWxsRmFrZSgoKSA9PiB7fSk7XG4gICAgICBzcHlPbih3aW5kb3cuZG9jdW1lbnQsICdjcmVhdGVFbGVtZW50JykuYW5kLmNhbGxGYWtlKChlbGVtZW50KSA9PlxuICAgICAgICBlbGVtZW50ID09PSAnaWZyYW1lJyA/IGlmcmFtZVN0dWIgOiBtZXRhU3R1YlxuICAgICAgKTtcbiAgICAgIGNvbnN0IG9uTG9hZCA9IGplc3QuZm4oKTtcbiAgICAgIHNweU9uKEZpbmljaXR5Q29ubmVjdCwgJ2luaXRQb3N0TWVzc2FnZScpLmFuZC5jYWxsRmFrZSgoKSA9PiB7fSk7XG4gICAgICBGaW5pY2l0eUNvbm5lY3QubGF1bmNoKHVybCwge1xuICAgICAgICBvbkRvbmU6ICgpID0+IHt9LFxuICAgICAgICBvbkVycm9yOiAoKSA9PiB7fSxcbiAgICAgICAgb25DYW5jZWw6ICgpID0+IHt9LFxuICAgICAgICBvbkxvYWQsXG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgJ21ldGFbbmFtZT1cInZpZXdwb3J0XCJdJ1xuICAgICAgKTtcbiAgICAgIGV4cGVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnbWV0YScpO1xuICAgICAgZXhwZWN0KG1ldGFTdHViLnNldEF0dHJpYnV0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ25hbWUnLCAndmlld3BvcnQnKTtcbiAgICAgIGV4cGVjdChtZXRhU3R1Yi5zZXRBdHRyaWJ1dGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAnY29udGVudCcsXG4gICAgICAgICdpbml0aWFsLXNjYWxlPTEnXG4gICAgICApO1xuICAgICAgZXhwZWN0KGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKG1ldGFTdHViKTtcblxuICAgICAgZXhwZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdpZnJhbWUnKTtcbiAgICAgIGV4cGVjdChpZnJhbWVTdHViLnNyYykudG9CZSh1cmwpO1xuICAgICAgZXhwZWN0KGlmcmFtZVN0dWIuc2V0QXR0cmlidXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnaWQnLCBJRlJBTUVfSUQpO1xuICAgICAgZXhwZWN0KGlmcmFtZVN0dWIuc2V0QXR0cmlidXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnZnJhbWVib3JkZXInLCAnMCcpO1xuICAgICAgZXhwZWN0KGlmcmFtZVN0dWIuc2V0QXR0cmlidXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnc2Nyb2xsaW5nJywgJ25vJyk7XG5cbiAgICAgIGV4cGVjdChkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChpZnJhbWVTdHViKTtcbiAgICAgIGlmcmFtZVN0dWIub25sb2FkKCk7XG4gICAgICBleHBlY3QoRmluaWNpdHlDb25uZWN0LmluaXRQb3N0TWVzc2FnZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe30pO1xuICAgICAgZXhwZWN0KG9uTG9hZCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBpZnJhbWUgc2NlbmFyaW8gd2l0aCBjdXN0b20gb3ZlcmxheSBhbmQgY29udGFpbmVyJywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0NvbnRhaW5lciA9IHsgYXBwZW5kQ2hpbGQ6IGplc3QuZm4oKSB9O1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IHsgb3ZlcmxheTogJ2dyYXknLCBzZWxlY3RvcjogJyNjb250YWluZXInIH07XG4gICAgICBzcHlPbihkb2N1bWVudCwgJ3F1ZXJ5U2VsZWN0b3JBbGwnKS5hbmQuY2FsbFRocm91Z2goKTtcbiAgICAgIHNweU9uKGRvY3VtZW50LCAncXVlcnlTZWxlY3RvcicpLmFuZC5yZXR1cm5WYWx1ZShtb2NrQ29udGFpbmVyKTtcbiAgICAgIGNvbnN0IGlmcmFtZVN0dWI6IGFueSA9IHtcbiAgICAgICAgcGFyZW50Tm9kZTogeyByZW1vdmVDaGlsZDogamVzdC5mbigpIH0sXG4gICAgICAgIHNldEF0dHJpYnV0ZTogamVzdC5mbigpLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IG1ldGFTdHViOiBhbnkgPSB7XG4gICAgICAgIHBhcmVudE5vZGU6IHsgcmVtb3ZlQ2hpbGQ6IGplc3QuZm4oKSB9LFxuICAgICAgICBzZXRBdHRyaWJ1dGU6IGplc3QuZm4oKSxcbiAgICAgIH07XG4gICAgICBzcHlPbihkb2N1bWVudC5oZWFkLCAnYXBwZW5kQ2hpbGQnKS5hbmQuY2FsbEZha2UoKCkgPT4ge30pO1xuICAgICAgc3B5T24oZG9jdW1lbnQuYm9keSwgJ2FwcGVuZENoaWxkJykuYW5kLmNhbGxGYWtlKCgpID0+IHt9KTtcbiAgICAgIHNweU9uKHdpbmRvdy5kb2N1bWVudCwgJ2NyZWF0ZUVsZW1lbnQnKS5hbmQuY2FsbEZha2UoKGVsZW1lbnQpID0+XG4gICAgICAgIGVsZW1lbnQgPT09ICdpZnJhbWUnID8gaWZyYW1lU3R1YiA6IG1ldGFTdHViXG4gICAgICApO1xuICAgICAgY29uc3Qgb25Mb2FkID0gamVzdC5mbigpO1xuICAgICAgc3B5T24oRmluaWNpdHlDb25uZWN0LCAnaW5pdFBvc3RNZXNzYWdlJykuYW5kLmNhbGxGYWtlKCgpID0+IHt9KTtcbiAgICAgIEZpbmljaXR5Q29ubmVjdC5sYXVuY2goXG4gICAgICAgIHVybCxcbiAgICAgICAgeyBvbkRvbmU6ICgpID0+IHt9LCBvbkVycm9yOiAoKSA9PiB7fSwgb25DYW5jZWw6ICgpID0+IHt9LCBvbkxvYWQgfSxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKTtcblxuICAgICAgZXhwZWN0KGlmcmFtZVN0dWIuc2V0QXR0cmlidXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgJ3N0eWxlJyxcbiAgICAgICAgJ2JhY2tncm91bmQ6IGdyYXk7J1xuICAgICAgKTtcblxuICAgICAgZXhwZWN0KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcjY29udGFpbmVyJyk7XG4gICAgICBleHBlY3QobW9ja0NvbnRhaW5lci5hcHBlbmRDaGlsZCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoaWZyYW1lU3R1Yik7XG5cbiAgICAgIGlmcmFtZVN0dWIub25sb2FkKCk7XG4gICAgICBleHBlY3QoRmluaWNpdHlDb25uZWN0LmluaXRQb3N0TWVzc2FnZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgob3B0aW9ucyk7XG4gICAgICBleHBlY3Qob25Mb2FkKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGlmcmFtZSBzY2VuYXJpbyB3aXRoIGN1c3RvbSBjb250YWluZXIgYXMgbm9kZScsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tDb250YWluZXIgPSB7IGFwcGVuZENoaWxkOiBqZXN0LmZuKCkgfSBhcyBhbnk7XG4gICAgICBjb25zdCBvcHRpb25zID0geyBub2RlOiBtb2NrQ29udGFpbmVyIH07XG4gICAgICBjb25zdCBpZnJhbWVTdHViOiBhbnkgPSB7XG4gICAgICAgIHBhcmVudE5vZGU6IHsgcmVtb3ZlQ2hpbGQ6IGplc3QuZm4oKSB9LFxuICAgICAgICBzZXRBdHRyaWJ1dGU6IGplc3QuZm4oKSxcbiAgICAgIH07XG4gICAgICBjb25zdCBtZXRhU3R1YjogYW55ID0ge1xuICAgICAgICBwYXJlbnROb2RlOiB7IHJlbW92ZUNoaWxkOiBqZXN0LmZuKCkgfSxcbiAgICAgICAgc2V0QXR0cmlidXRlOiBqZXN0LmZuKCksXG4gICAgICB9O1xuICAgICAgc3B5T24oZG9jdW1lbnQuaGVhZCwgJ2FwcGVuZENoaWxkJykuYW5kLmNhbGxGYWtlKCgpID0+IHt9KTtcbiAgICAgIHNweU9uKHdpbmRvdy5kb2N1bWVudCwgJ2NyZWF0ZUVsZW1lbnQnKS5hbmQuY2FsbEZha2UoKGVsZW1lbnQpID0+XG4gICAgICAgIGVsZW1lbnQgPT09ICdpZnJhbWUnID8gaWZyYW1lU3R1YiA6IG1ldGFTdHViXG4gICAgICApO1xuICAgICAgY29uc3Qgb25Mb2FkID0gamVzdC5mbigpO1xuICAgICAgc3B5T24oRmluaWNpdHlDb25uZWN0LCAnaW5pdFBvc3RNZXNzYWdlJykuYW5kLmNhbGxGYWtlKCgpID0+IHt9KTtcbiAgICAgIEZpbmljaXR5Q29ubmVjdC5sYXVuY2goXG4gICAgICAgIHVybCxcbiAgICAgICAgeyBvbkRvbmU6ICgpID0+IHt9LCBvbkVycm9yOiAoKSA9PiB7fSwgb25DYW5jZWw6ICgpID0+IHt9LCBvbkxvYWQgfSxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKTtcblxuICAgICAgZXhwZWN0KG1vY2tDb250YWluZXIuYXBwZW5kQ2hpbGQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGlmcmFtZVN0dWIpO1xuXG4gICAgICBpZnJhbWVTdHViLm9ubG9hZCgpO1xuICAgICAgZXhwZWN0KEZpbmljaXR5Q29ubmVjdC5pbml0UG9zdE1lc3NhZ2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKG9wdGlvbnMpO1xuICAgICAgZXhwZWN0KG9uTG9hZCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdChcInNob3VsZCBsb2cgd2FybmluZyBhbmQgYXBwZW5kIGlmcmFtZSB0byBib2R5IGlmIHNlbGVjdG9yIGRvZXNuJ3QgcmV0dXJuIGFuIGVsZW1lbnRcIiwgKCkgPT4ge1xuICAgICAgc3B5T24oY29uc29sZSwgJ3dhcm4nKS5hbmQuY2FsbEZha2UoKCkgPT4ge30pO1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IHsgc2VsZWN0b3I6ICcjY29udGFpbmVyJyB9O1xuICAgICAgc3B5T24oZG9jdW1lbnQsICdxdWVyeVNlbGVjdG9yQWxsJykuYW5kLmNhbGxUaHJvdWdoKCk7XG4gICAgICBzcHlPbihkb2N1bWVudCwgJ3F1ZXJ5U2VsZWN0b3InKS5hbmQucmV0dXJuVmFsdWUodW5kZWZpbmVkKTtcbiAgICAgIGNvbnN0IGlmcmFtZVN0dWI6IGFueSA9IHtcbiAgICAgICAgcGFyZW50Tm9kZTogeyByZW1vdmVDaGlsZDogamVzdC5mbigpIH0sXG4gICAgICAgIHNldEF0dHJpYnV0ZTogamVzdC5mbigpLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IG1ldGFTdHViOiBhbnkgPSB7XG4gICAgICAgIHBhcmVudE5vZGU6IHsgcmVtb3ZlQ2hpbGQ6IGplc3QuZm4oKSB9LFxuICAgICAgICBzZXRBdHRyaWJ1dGU6IGplc3QuZm4oKSxcbiAgICAgIH07XG4gICAgICBzcHlPbihkb2N1bWVudC5oZWFkLCAnYXBwZW5kQ2hpbGQnKS5hbmQuY2FsbEZha2UoKCkgPT4ge30pO1xuICAgICAgc3B5T24oZG9jdW1lbnQuYm9keSwgJ2FwcGVuZENoaWxkJykuYW5kLmNhbGxGYWtlKCgpID0+IHt9KTtcbiAgICAgIHNweU9uKHdpbmRvdy5kb2N1bWVudCwgJ2NyZWF0ZUVsZW1lbnQnKS5hbmQuY2FsbEZha2UoKGVsZW1lbnQpID0+XG4gICAgICAgIGVsZW1lbnQgPT09ICdpZnJhbWUnID8gaWZyYW1lU3R1YiA6IG1ldGFTdHViXG4gICAgICApO1xuICAgICAgY29uc3Qgb25Mb2FkID0gamVzdC5mbigpO1xuICAgICAgc3B5T24oRmluaWNpdHlDb25uZWN0LCAnaW5pdFBvc3RNZXNzYWdlJykuYW5kLmNhbGxGYWtlKCgpID0+IHt9KTtcbiAgICAgIEZpbmljaXR5Q29ubmVjdC5sYXVuY2goXG4gICAgICAgIHVybCxcbiAgICAgICAgeyBvbkRvbmU6ICgpID0+IHt9LCBvbkVycm9yOiAoKSA9PiB7fSwgb25DYW5jZWw6ICgpID0+IHt9LCBvbkxvYWQgfSxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKTtcblxuICAgICAgZXhwZWN0KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcjY29udGFpbmVyJyk7XG4gICAgICBleHBlY3QoZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoaWZyYW1lU3R1Yik7XG4gICAgICBleHBlY3QoY29uc29sZS53YXJuKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgYENvdWxkbid0IGZpbmQgYW55IGVsZW1lbnRzIG1hdGNoaW5nIFwiJHtvcHRpb25zLnNlbGVjdG9yfVwiLCBhcHBlbmRpbmcgXCJpZnJhbWVcIiB0byBcImJvZHlcIiBpbnN0ZWFkLmBcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgdGhyb3cgZXJyb3IgaWYgbGF1bmNoIGlzIGNhbGxlZCBhZ2FpbiBiZWZvcmUgY2FsbGluZyBkZXN0cm95JywgKCkgPT4ge1xuICAgICAgRmluaWNpdHlDb25uZWN0LmxhdW5jaCh1cmwsIHtcbiAgICAgICAgb25Eb25lOiAoKSA9PiB7fSxcbiAgICAgICAgb25FcnJvcjogKCkgPT4ge30sXG4gICAgICAgIG9uQ2FuY2VsOiAoKSA9PiB7fSxcbiAgICAgIH0pO1xuICAgICAgdHJ5IHtcbiAgICAgICAgRmluaWNpdHlDb25uZWN0LmxhdW5jaCh1cmwsIHtcbiAgICAgICAgICBvbkRvbmU6ICgpID0+IHt9LFxuICAgICAgICAgIG9uRXJyb3I6ICgpID0+IHt9LFxuICAgICAgICAgIG9uQ2FuY2VsOiAoKSA9PiB7fSxcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgICAgZXhwZWN0KGUubWVzc2FnZSkudG9CZShcbiAgICAgICAgICAnWW91IG11c3QgZGVzdHJveSB0aGUgaWZyYW1lIGJlZm9yZSB5b3UgY2FuIG9wZW4gYSBuZXcgb25lLiBDYWxsIFwiZGVzdHJveSgpXCInXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdpbml0UG9zdE1lc3NhZ2UnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGNhbGwgcG9zdE1lc3NhZ2UgZXZlcnkgc2Vjb25kIHdpdGggdGhlIGV4cGVjdGVkIHBhcmFtZXRlcnMgYW5kIGF0dGFjaCBwb3N0TWVzc2FnZSBldmVudCBoYW5kbGVyJywgKCkgPT4ge1xuICAgICAgc3B5T24od2luZG93LCAnc2V0SW50ZXJ2YWwnKS5hbmQuY2FsbFRocm91Z2goKTtcbiAgICAgIHNweU9uKEZpbmljaXR5Q29ubmVjdCwgJ3Bvc3RNZXNzYWdlJykuYW5kLmNhbGxGYWtlKCgpID0+IHt9KTtcblxuICAgICAgRmluaWNpdHlDb25uZWN0LmluaXRQb3N0TWVzc2FnZSh7IHNlbGVjdG9yOiAnI2NvbnRhaW5lcicgfSk7XG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMTEwMCk7XG4gICAgICBleHBlY3QoRmluaWNpdHlDb25uZWN0LnBvc3RNZXNzYWdlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIHR5cGU6IFBJTkdfRVZFTlQsXG4gICAgICAgIHNlbGVjdG9yOiAnI2NvbnRhaW5lcicsXG4gICAgICAgIHNka1ZlcnNpb246IENPTk5FQ1RfU0RLX1ZFUlNJT04sXG4gICAgICAgIHBsYXRmb3JtOiBQTEFURk9STV9JRlJBTUUsXG4gICAgICB9KTtcblxuICAgICAgRmluaWNpdHlDb25uZWN0LmluaXRQb3N0TWVzc2FnZSh7IHBvcHVwOiB0cnVlIH0pO1xuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDExMDApO1xuICAgICAgZXhwZWN0KEZpbmljaXR5Q29ubmVjdC5wb3N0TWVzc2FnZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICB0eXBlOiBQSU5HX0VWRU5ULFxuICAgICAgICBzZWxlY3RvcjogdW5kZWZpbmVkLFxuICAgICAgICBzZGtWZXJzaW9uOiBDT05ORUNUX1NES19WRVJTSU9OLFxuICAgICAgICBwbGF0Zm9ybTogUExBVEZPUk1fUE9QVVAsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBjYWxsIGF0dGFjaCBwb3N0TWVzc2FnZSBldmVudCBoYW5kbGVyIGFuZCBzZW5kIGV2ZW50cyBhcyBleHBlY3RlZCcsICgpID0+IHtcbiAgICAgIGxldCBldmVudEhhbmRsZXI7XG4gICAgICBsZXQgcG9wdXBNb2NrID0geyBjbG9zZTogamVzdC5mbigpLCBmb2N1czogamVzdC5mbigpIH07XG4gICAgICBzcHlPbih3aW5kb3csICdvcGVuJykuYW5kLmNhbGxGYWtlKGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUocG9wdXBNb2NrKSk7XG4gICAgICBzcHlPbih3aW5kb3csICdhZGRFdmVudExpc3RlbmVyJykuYW5kLmNhbGxGYWtlKFxuICAgICAgICAoZXZlbnRUeXBlLCBlaCkgPT4gKGV2ZW50SGFuZGxlciA9IGVoKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IGV2ZW50SGFuZGxlcnMgPSB7XG4gICAgICAgIG9uRG9uZTogamVzdC5mbigpLFxuICAgICAgICBvbkVycm9yOiBqZXN0LmZuKCksXG4gICAgICAgIG9uQ2FuY2VsOiBqZXN0LmZuKCksXG4gICAgICB9O1xuICAgICAgRmluaWNpdHlDb25uZWN0LmxhdW5jaCh1cmwsIGV2ZW50SGFuZGxlcnMpO1xuICAgICAgRmluaWNpdHlDb25uZWN0LmluaXRQb3N0TWVzc2FnZSh7IHNlbGVjdG9yOiAnI2NvbnRhaW5lcicgfSk7XG5cbiAgICAgIGV4cGVjdCh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgc3B5T24od2luZG93LCAnY2xlYXJJbnRlcnZhbCcpO1xuICAgICAgZXZlbnRIYW5kbGVyKHsgb3JpZ2luOiB1cmwsIGRhdGE6IHsgdHlwZTogQUNLX0VWRU5UIH0gfSk7XG4gICAgICBleHBlY3Qod2luZG93LmNsZWFySW50ZXJ2YWwpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcblxuICAgICAgc3B5T24oRmluaWNpdHlDb25uZWN0LCAnb3BlblBvcHVwV2luZG93JykuYW5kLmNhbGxUaHJvdWdoKCk7XG4gICAgICBzcHlPbihGaW5pY2l0eUNvbm5lY3QsICdkZXN0cm95Jyk7XG4gICAgICBldmVudEhhbmRsZXIoe1xuICAgICAgICBvcmlnaW46IHVybCxcbiAgICAgICAgZGF0YTogeyB0eXBlOiBVUkxfRVZFTlQsIHVybDogJ2h0dHA6Ly9vYXV0aC5jb20nIH0sXG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChGaW5pY2l0eUNvbm5lY3Qub3BlblBvcHVwV2luZG93KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgJ2h0dHA6Ly9vYXV0aC5jb20nXG4gICAgICApO1xuXG4gICAgICBjb25zdCBwYXlsb2FkID0geyB0ZXN0OiB0cnVlIH07XG4gICAgICBldmVudEhhbmRsZXIoeyBvcmlnaW46IHVybCwgZGF0YTogeyB0eXBlOiBET05FX0VWRU5ULCBkYXRhOiBwYXlsb2FkIH0gfSk7XG4gICAgICBleHBlY3QoZXZlbnRIYW5kbGVycy5vbkRvbmUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHBheWxvYWQpO1xuICAgICAgZXhwZWN0KEZpbmljaXR5Q29ubmVjdC5kZXN0cm95KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG5cbiAgICAgIGV2ZW50SGFuZGxlcih7XG4gICAgICAgIG9yaWdpbjogdXJsLFxuICAgICAgICBkYXRhOiB7IHR5cGU6IENBTkNFTF9FVkVOVCwgZGF0YTogcGF5bG9hZCB9LFxuICAgICAgfSk7XG4gICAgICBleHBlY3QoZXZlbnRIYW5kbGVycy5vbkNhbmNlbCkudG9IYXZlQmVlbkNhbGxlZFdpdGgocGF5bG9hZCk7XG4gICAgICBleHBlY3QoRmluaWNpdHlDb25uZWN0LmRlc3Ryb3kpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygyKTtcblxuICAgICAgZXZlbnRIYW5kbGVyKHsgb3JpZ2luOiB1cmwsIGRhdGE6IHsgdHlwZTogRVJST1JfRVZFTlQsIGRhdGE6IHBheWxvYWQgfSB9KTtcbiAgICAgIGV4cGVjdChldmVudEhhbmRsZXJzLm9uQ2FuY2VsKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChwYXlsb2FkKTtcbiAgICAgIGV4cGVjdChGaW5pY2l0eUNvbm5lY3QuZGVzdHJveSkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDMpO1xuXG4gICAgICBldmVudEhhbmRsZXIoeyBvcmlnaW46IHVybCwgZGF0YTogeyB0eXBlOiBST1VURV9FVkVOVCwgZGF0YTogcGF5bG9hZCB9IH0pO1xuICAgICAgZXhwZWN0KGV2ZW50SGFuZGxlcnMub25DYW5jZWwpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHBheWxvYWQpO1xuICAgICAgZXhwZWN0KEZpbmljaXR5Q29ubmVjdC5kZXN0cm95KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMyk7XG5cbiAgICAgIGV2ZW50SGFuZGxlcih7IG9yaWdpbjogdXJsLCBkYXRhOiB7IHR5cGU6IFVTRVJfRVZFTlQsIGRhdGE6IHBheWxvYWQgfSB9KTtcbiAgICAgIGV4cGVjdChldmVudEhhbmRsZXJzLm9uQ2FuY2VsKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChwYXlsb2FkKTtcbiAgICAgIGV4cGVjdChGaW5pY2l0eUNvbm5lY3QuZGVzdHJveSkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDMpO1xuXG4gICAgICBldmVudEhhbmRsZXIoe1xuICAgICAgICBvcmlnaW46IHVybCxcbiAgICAgICAgZGF0YTogeyB0eXBlOiBDTE9TRV9QT1BVUF9FVkVOVCwgZGF0YTogcGF5bG9hZCB9LFxuICAgICAgfSk7XG4gICAgICBleHBlY3QocG9wdXBNb2NrLmNsb3NlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QoRmluaWNpdHlDb25uZWN0LmRlc3Ryb3kpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygzKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBjYWxsIGF0dGFjaCBwb3N0TWVzc2FnZSBldmVudCBoYW5kbGVyIGFuZCBwaW5nIENvbm5lY3QgaW5kZWZpbml0ZWx5IGZvciBwb3B1cCBzY2VuYXJpbycsICgpID0+IHtcbiAgICAgIGxldCBldmVudEhhbmRsZXI7XG4gICAgICBzcHlPbih3aW5kb3csICdvcGVuJykuYW5kLmNhbGxGYWtlKCgpID0+IG1vY2tXaW5kb3cpO1xuICAgICAgc3B5T24od2luZG93LCAnYWRkRXZlbnRMaXN0ZW5lcicpLmFuZC5jYWxsRmFrZShcbiAgICAgICAgKGV2ZW50VHlwZSwgZWgpID0+IChldmVudEhhbmRsZXIgPSBlaClcbiAgICAgICk7XG4gICAgICBjb25zdCBldmVudEhhbmRsZXJzID0ge1xuICAgICAgICBvbkRvbmU6IGplc3QuZm4oKSxcbiAgICAgICAgb25FcnJvcjogamVzdC5mbigpLFxuICAgICAgICBvbkNhbmNlbDogamVzdC5mbigpLFxuICAgICAgfTtcbiAgICAgIEZpbmljaXR5Q29ubmVjdC5sYXVuY2godXJsLCBldmVudEhhbmRsZXJzLCB7IHBvcHVwOiB0cnVlIH0pO1xuICAgICAgRmluaWNpdHlDb25uZWN0LmluaXRQb3N0TWVzc2FnZSh7IHBvcHVwOiB0cnVlIH0pO1xuXG4gICAgICBleHBlY3Qod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIHNweU9uKHdpbmRvdywgJ2NsZWFySW50ZXJ2YWwnKTtcbiAgICAgIGV2ZW50SGFuZGxlcih7IG9yaWdpbjogdXJsLCBkYXRhOiB7IHR5cGU6IEFDS19FVkVOVCB9IH0pO1xuICAgICAgZXhwZWN0KHdpbmRvdy5jbGVhckludGVydmFsKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnb3BlblBvcHVwV2luZG93JywgKCkgPT4ge1xuICAgIHRlc3QoXCJzaG91bGQgb3BlbiBwb3B1cCB3aW5kb3csIGZvY3VzIG9uIGl0IGFuZCBwZXJpb2RpY2FsbHkgd2F0Y2ggaWYgaXQncyBzdGlsbCBvcGVuXCIsICgpID0+IHtcbiAgICAgIHNweU9uKHdpbmRvdywgJ29wZW4nKS5hbmQuY2FsbEZha2UoKCkgPT4gbW9ja1dpbmRvdyk7XG4gICAgICBzcHlPbih3aW5kb3csICdzZXRJbnRlcnZhbCcpO1xuICAgICAgc3B5T24od2luZG93LCAnY2xlYXJJbnRlcnZhbCcpO1xuICAgICAgc3B5T24oRmluaWNpdHlDb25uZWN0LCAncG9zdE1lc3NhZ2UnKS5hbmQuY2FsbEZha2UoKCkgPT4ge30pO1xuXG4gICAgICBGaW5pY2l0eUNvbm5lY3Qub3BlblBvcHVwV2luZG93KHVybCk7XG4gICAgICBleHBlY3Qod2luZG93Lm9wZW4pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICB1cmwsXG4gICAgICAgICd0YXJnZXRXaW5kb3cnLFxuICAgICAgICBgdG9vbGJhcj1ubyxsb2NhdGlvbj1ubyxzdGF0dXM9bm8sbWVudWJhcj1ubyx3aWR0aD0ke1BPUFVQX1dJRFRIfSxoZWlnaHQ9JHtQT1BVUF9IRUlHSFR9LHRvcD04NCxsZWZ0PTIxMmBcbiAgICAgICk7XG4gICAgICBleHBlY3QobW9ja1dpbmRvdy5mb2N1cykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KHdpbmRvdy5zZXRJbnRlcnZhbCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDExMDApO1xuICAgICAgZXhwZWN0KHdpbmRvdy5jbGVhckludGVydmFsKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGNhbGwgcG9zdE1lc3NhZ2Ugd2hlbiB0aGUgcG9wdXAgaXMgY2xvc2VkJywgKCkgPT4ge1xuICAgICAgbW9ja1dpbmRvdy5jbG9zZWQgPSB0cnVlO1xuICAgICAgc3B5T24od2luZG93LCAnb3BlbicpLmFuZC5jYWxsRmFrZSgoKSA9PiBtb2NrV2luZG93KTtcbiAgICAgIHNweU9uKHdpbmRvdywgJ3NldEludGVydmFsJykuYW5kLmNhbGxUaHJvdWdoKCk7XG4gICAgICBzcHlPbih3aW5kb3csICdjbGVhckludGVydmFsJyk7XG4gICAgICBzcHlPbihGaW5pY2l0eUNvbm5lY3QsICdwb3N0TWVzc2FnZScpLmFuZC5jYWxsRmFrZSgoKSA9PiB7fSk7XG5cbiAgICAgIEZpbmljaXR5Q29ubmVjdC5vcGVuUG9wdXBXaW5kb3codXJsKTtcbiAgICAgIGV4cGVjdCh3aW5kb3cub3BlbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIHVybCxcbiAgICAgICAgJ3RhcmdldFdpbmRvdycsXG4gICAgICAgIGB0b29sYmFyPW5vLGxvY2F0aW9uPW5vLHN0YXR1cz1ubyxtZW51YmFyPW5vLHdpZHRoPSR7UE9QVVBfV0lEVEh9LGhlaWdodD0ke1BPUFVQX0hFSUdIVH0sdG9wPTg0LGxlZnQ9MjEyYFxuICAgICAgKTtcbiAgICAgIGV4cGVjdChtb2NrV2luZG93LmZvY3VzKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3Qod2luZG93LnNldEludGVydmFsKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG5cbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxMTAwKTtcbiAgICAgIGV4cGVjdCh3aW5kb3cuY2xlYXJJbnRlcnZhbCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KEZpbmljaXR5Q29ubmVjdC5wb3N0TWVzc2FnZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICB0eXBlOiBXSU5ET1dfRVZFTlQsXG4gICAgICAgIGNsb3NlZDogdHJ1ZSxcbiAgICAgICAgYmxvY2tlZDogZmFsc2UsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBsZXQgQ29ubmVjdCBrbm93IGlmIHRoZSBwb3B1cCB3YXMgYmxvY2tlZCcsICgpID0+IHtcbiAgICAgIHNweU9uKHdpbmRvdywgJ29wZW4nKS5hbmQuY2FsbEZha2UoKCkgPT4gdW5kZWZpbmVkKTtcbiAgICAgIHNweU9uKEZpbmljaXR5Q29ubmVjdCwgJ3Bvc3RNZXNzYWdlJykuYW5kLmNhbGxGYWtlKCgpID0+IHt9KTtcblxuICAgICAgRmluaWNpdHlDb25uZWN0Lm9wZW5Qb3B1cFdpbmRvdyh1cmwpO1xuICAgICAgZXhwZWN0KHdpbmRvdy5vcGVuKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgdXJsLFxuICAgICAgICAndGFyZ2V0V2luZG93JyxcbiAgICAgICAgYHRvb2xiYXI9bm8sbG9jYXRpb249bm8sc3RhdHVzPW5vLG1lbnViYXI9bm8sd2lkdGg9JHtQT1BVUF9XSURUSH0saGVpZ2h0PSR7UE9QVVBfSEVJR0hUfSx0b3A9ODQsbGVmdD0yMTJgXG4gICAgICApO1xuICAgICAgZXhwZWN0KG1vY2tXaW5kb3cuZm9jdXMpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QoRmluaWNpdHlDb25uZWN0LnBvc3RNZXNzYWdlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIHR5cGU6IFdJTkRPV19FVkVOVCxcbiAgICAgICAgY2xvc2VkOiB0cnVlLFxuICAgICAgICBibG9ja2VkOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdwb3N0TWVzc2FnZScsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgY2FsbCBwb3N0TWVzc2FnZSBvbiAoaWZyYW1lKScsICgpID0+IHtcbiAgICAgIGNvbnN0IGlmcmFtZVN0dWI6IGFueSA9IHtcbiAgICAgICAgcGFyZW50Tm9kZTogeyByZW1vdmVDaGlsZDogamVzdC5mbigpIH0sXG4gICAgICAgIHNldEF0dHJpYnV0ZTogamVzdC5mbigpLFxuICAgICAgICBjb250ZW50V2luZG93OiB7IHBvc3RNZXNzYWdlOiBqZXN0LmZuKCkgfSxcbiAgICAgIH07XG4gICAgICBjb25zdCBtZXRhU3R1YjogYW55ID0ge1xuICAgICAgICBwYXJlbnROb2RlOiB7IHJlbW92ZUNoaWxkOiBqZXN0LmZuKCkgfSxcbiAgICAgICAgc2V0QXR0cmlidXRlOiBqZXN0LmZuKCksXG4gICAgICB9O1xuICAgICAgc3B5T24oZG9jdW1lbnQuaGVhZCwgJ2FwcGVuZENoaWxkJykuYW5kLmNhbGxGYWtlKCgpID0+IHt9KTtcbiAgICAgIHNweU9uKGRvY3VtZW50LmJvZHksICdhcHBlbmRDaGlsZCcpLmFuZC5jYWxsRmFrZSgoKSA9PiB7fSk7XG4gICAgICBzcHlPbih3aW5kb3cuZG9jdW1lbnQsICdjcmVhdGVFbGVtZW50JykuYW5kLmNhbGxGYWtlKChlbGVtZW50KSA9PlxuICAgICAgICBlbGVtZW50ID09PSAnaWZyYW1lJyA/IGlmcmFtZVN0dWIgOiBtZXRhU3R1YlxuICAgICAgKTtcbiAgICAgIEZpbmljaXR5Q29ubmVjdC5sYXVuY2godXJsLCB7XG4gICAgICAgIG9uRG9uZTogKCkgPT4ge30sXG4gICAgICAgIG9uRXJyb3I6ICgpID0+IHt9LFxuICAgICAgICBvbkNhbmNlbDogKCkgPT4ge30sXG4gICAgICB9KTtcbiAgICAgIGlmcmFtZVN0dWIub25sb2FkKCk7XG4gICAgICBjb25zdCBkYXRhID0geyB0ZXN0OiB0cnVlIH07XG4gICAgICBGaW5pY2l0eUNvbm5lY3QucG9zdE1lc3NhZ2UoZGF0YSk7XG4gICAgICBleHBlY3QoaWZyYW1lU3R1Yi5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgZGF0YSxcbiAgICAgICAgdXJsXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGNhbGwgcG9zdE1lc3NhZ2Ugb24gKHBvcHVwKScsICgpID0+IHtcbiAgICAgIHNweU9uKHdpbmRvdywgJ29wZW4nKS5hbmQucmV0dXJuVmFsdWUobW9ja1dpbmRvdyk7XG4gICAgICBGaW5pY2l0eUNvbm5lY3QubGF1bmNoKFxuICAgICAgICB1cmwsXG4gICAgICAgIHsgb25Eb25lOiAoKSA9PiB7fSwgb25FcnJvcjogKCkgPT4ge30sIG9uQ2FuY2VsOiAoKSA9PiB7fSB9LFxuICAgICAgICB7IHBvcHVwOiB0cnVlIH1cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGRhdGEgPSB7IHRlc3Q6IHRydWUgfTtcbiAgICAgIEZpbmljaXR5Q29ubmVjdC5wb3N0TWVzc2FnZShkYXRhKTtcbiAgICAgIGV4cGVjdChtb2NrV2luZG93LnBvc3RNZXNzYWdlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChkYXRhLCB1cmwpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl19